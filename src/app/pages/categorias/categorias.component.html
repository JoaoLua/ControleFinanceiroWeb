<div class="page-container">
  
  <header class="header">
    <div>
      <h1>Categorias</h1>
      <p>Organize suas transações por tipo</p>
    </div>
    <button mat-raised-button color="primary" (click)="abrirForm()">
      <mat-icon>add</mat-icon> Nova Categoria
    </button>
  </header>

  <mat-divider></mat-divider>
  <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>

  <div class="grid-container" *ngIf="!isLoading">
    
    <mat-card class="cat-card mat-elevation-z2" *ngFor="let c of categorias">
      <div class="color-strip" [style.background-color]= "c.corHexadecimal || '#ddd'"></div>

      <mat-card-header>
        <mat-card-title>{{ c.nome }}</mat-card-title>
      </mat-card-header>

      <mat-card-content>
        <p class="descricao">{{ c.descricao || 'Sem descrição' }}</p>
      </mat-card-content>

      <div class="spacer"></div> <mat-divider></mat-divider>
      
      <mat-card-actions align="end">
        <button mat-icon-button color="primary" (click)="abrirForm(c)" matTooltip="Editar">
          <mat-icon>edit</mat-icon>
        </button>
      </mat-card-actions>
    </mat-card>

    <div class="empty-state" *ngIf="categorias.length === 0">
        <p>Nenhuma categoria cadastrada.</p>
    </div>

  </div>
</div>